# Failure Report

| Test Case ID | Error Seen                                                                          | Error Cause                                                                                  | Fix                                                                                            |
|--------------|-------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------|
| R1.3         | Login screen didn't redirect after logging in                                       | fn.login_get() did not check for logged-in session                                           | Added a check for logged-in session, redirect to '/' if logged in                              |
| R1.7b        | Error message displayed was "email/password combination incorrect"                  | wrong error message in login template                                                        | Use correct error message "email/password format is incorrect"                                 |
| R1.8         | Error message displayed was "email/password combination incorrect"                  | wrong error message in login template                                                        | Use correct error message "email/password format is incorrect"                                 |
| R1.11        | Error message displayed was "login failed"                                          | wrong error message in login template                                                        | Use correct error message "mail/password combination incorrect"                                |
| R2.5a        | Could not detect failed register due to email being empty                           | Required tag in the HTML caused a warning to appear on screen if email was left empty        | Removed required tag from register.html                                                        |
| R2.7c        | Username starting with a space was seen as valid                                    | Username regex allowed space character at start and end but not in the middle                | Username regex remade so start and end can't be spaces but spaces can be present in the middle |
| R2.10        | Error message would read "User Exists"                                              | Returned error message if email was already used was "User Exists"                           | Changed returned error message to "This email has been ALREADY used"                           |
| R2.11        | Register would error with "This email has been ALREADY used"                        | bn.get_user() in the frontend register code was mocked along with the frontend login code    | Moved register's get_user() check to the backend                                               |
| R3.7/8       | Could not find some elements when creating test cases                               | Some of the elements in index.html had incorrect names                                       | Changed elements names inside index.html                                                       |
| R4.5a        | Non-integer date input caused a 500 error                                           | Form for sell-expiry only allowed integers to be accepted - no error handling for strings    | Removed integer casting in form, added integer casting to date_check                           |
| R5.1         | POST version of '/' routed to sell                                                  | app.route was wrapping both sell_post and the default function                               | Removed app.route wrapper from sell_post                                                       |
| R5.3a        | Error message was not appearing at the end of the test case                         | Max and Min tag in the HTML caused a warning to appear on screen if quantity was less than 0 | Removed max, min and required tag from index.html                                              |
| R5.3a        | Wrong error message was appearing at the end of the test case                       | quantity_check was not being handle properly by statement that called the function           | Changed quantity_check and price_check to act similarly to date_check and return a boolean     |
| R5.5a        | Test case was not throwing an error message despite having an incorrect year value  | date_check return false if the date string is too short, causing the code to pass the elif   | Changed date_check to return True                                                              |
| R5.5b        | Test case was not throwing an error message despite having an incorrect month value | date_check was not to designed to handle incorrect month or day values                       | Add statements to check the month and day values                                               |
| R5.1-7       | Test case were failing when pushed to the Github despite working locally            | Github pytest was not able to enter test_ticket.quantity due to it being an Int              | Changed all Int attributes in test_ticket into Strings                                         |
| R8.1b        | Login failed due to "email/password combination incorrect"                          | Password regex required digit                                                                | Removed digit requirement from password regex                                                  |